webpackJsonp([10],{"/z1s":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Dd8w"),o=n.n(a),i=n("NYxO"),r=n("BD25"),s=n("Kh6f"),u=n("G+9V"),c=n("UyBt"),l={name:"takingCharger",data:function(){return{timer:null,timer2:null,time:60,toastTip:!1,toastbox:!1,timer3:null}},components:{headTop:r.a,messageBox:s.a,toast:u.a},computed:o()({},Object(i.c)(["chargerId"])),mounted:function(){var t=this;this.$nextTick(function(){console.log(document.documentElement.clientHeight),t.$refs.takingCharger.style.height=document.documentElement.clientHeight}),this.countdown(),this.dataInteractionResponse(function(e){if("0x5212"===e.msgType)if(e.result)t.$router.push({name:"home",params:{payTip:3}});else{var n=void 0;switch(e.data.errorCode){case"0x830204":t.toastTip=!0,n=setTimeout(function(){t.$router.back(),clearTimeout(n)},2e3);break;case"0x830203":t.setGlobalBox({bol:!0,id:11});break;default:c.a[e.data.errorCode]||(t.toastbox=!0),n=setTimeout(function(){t.$router.back(),clearTimeout(n)},2e3)}}else"0x5222"===e.msgType&&e.result&&2===e.data[0].pay_state&&(clearInterval(t.timer3),t.dataInteractionRequest({msgType:"0x5211",no:e.data[0].no}),t.$router.push({path:"/restituteSuccessfully"}))}),this.dataInteractionRequest({msgType:"0x5211",imei:this.chargerId.imei}),this.returnforword(),this.ISDEBUG},methods:o()({},Object(i.b)(["setGlobalBox"]),{returnforword:function(){var t=this;this.timer3=setInterval(function(){t.dataInteractionRequest({msgType:"0x5221",type:1,page:1,count:1})},1e4)},countdown:function(){var t=this;this.timer=setInterval(function(){--t.time<=0&&(clearInterval(t.timer),t.setGlobalBox({bol:!0,id:10}))},1e3)},boxHandle:function(t,e,n){switch(n){case 9:this.setGlobalBox({bol:!1,id:0});break;case 10:this.setGlobalBox({bol:!1,id:0}),t&&this.$router.back();break;case 11:this.setGlobalBox({bol:!1,id:0})}t&&this.$router.back()},goBackHander:function(){this.setGlobalBox({bol:!0,id:9})}}),beforeDestroy:function(){clearInterval(this.timer),clearTimeout(this.timer2),clearTimeout(this.timer3)}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"takingCharger",staticClass:"takingCharger"},[a("head-top",{attrs:{title:t.$t("ReturnBattery"),"custom-back":!0},on:{goBackHander:t.goBackHander}}),t._v(" "),a("div",{staticClass:"container"},[a("img",{attrs:{src:n("aEW7"),alt:""}}),t._v(" "),a("span",[t._v(t._s(t.$t("putCharging")))]),t._v(" "),a("div",{staticClass:"countdown"},[a("b",[a("strong",[t._v(t._s(t.time))]),t._v(t._s(t.$t("unit"))+"\n      ")]),t._v(" "),a("div",{staticClass:"countdown-bg"})])]),t._v(" "),a("message-box",{attrs:{id:9,icon:"noreturn",title:t.$t("Reminder"),describe:t.$t("unreturnedBatteryToExit"),confirm:t.$t("OK"),cancel:t.$t("Cancel")},on:{boxHandle:t.boxHandle}}),t._v(" "),a("message-box",{attrs:{id:10,icon:"scan",title:t.$t("Reminder"),describe:t.$t("reScanQRcode"),alert:t.$t("OK")},on:{boxHandle:t.boxHandle}}),t._v(" "),a("message-box",{attrs:{id:11,icon:"listIcon",title:t.$t("Reminder"),describe:t.$t("unreturnedBattery"),alert:t.$t("OK")},on:{boxHandle:t.boxHandle}}),t._v(" "),a("toast",{attrs:{toastTip:t.toastTip,describe:t.$t("equipmentIsFull"),position:"bottom"},on:{"update:toastTip":function(e){t.toastTip=e}}}),t._v(" "),a("toast",{attrs:{toastTip:t.toastbox,describe:t.$t("RestitutionFailure"),position:"bottom"},on:{"update:toastTip":function(e){t.toastbox=e}}})],1)},staticRenderFns:[]};var m=n("VU/8")(l,d,!1,function(t){n("qkpa")},"data-v-457ae37a",null),p=n("pBOv");p&&p.__esModule&&(p=p.default),"function"==typeof p&&p(m);e.default=m.exports},aEW7:function(t,e,n){t.exports=n.p+"static/img/baby-icon.c31fbe2.png"},pBOv:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"ReturnBattery":"Return Portable battery","putCharging":"Please put the charging treasure from the above position in time","unit":"S","Reminder":"Reminder","unreturnedBatteryToExit":"Detected you did not return the battery, are you sure to exit?","OK":"OK","Cancel":"Cancel","reScanQRcode":"No charging treasure is put in, please re-scan the qr code of the cabinet","unreturnedBattery":"You currently do not have unreturned battery pack","equipmentIsFull":"The card slot of this equipment is full, please change the equipment to use.","RestitutionFailure":"Restitution failure"},"zh":{"ReturnBattery":"归还充电宝","putCharging":"请及时从上图位置放入充电宝","unit":"秒","Reminder":"提示","unreturnedBatteryToExit":"检测到你未归还充电宝，确定退出吗","OK":"好的","Cancel":"取消","reScanQRcode":"检测到没有充电宝放入，请重新扫描机柜二维码","unreturnedBattery":"您当前没有未归还的充电宝哦","equipmentIsFull":"该设备卡槽已满，请换台设备使用","RestitutionFailure":"还入失败"}}'),delete t.options._Ctor}},qkpa:function(t,e){}});
//# sourceMappingURL=10.bf106fa5b6b598710ec7.js.map