{"version":3,"sources":["webpack:///src/views/scanning/restitute/restituteCharger.vue","webpack:///./src/views/scanning/restitute/restituteCharger.vue?4c6a","webpack:///./src/views/scanning/restitute/restituteCharger.vue","webpack:///./src/assets/scanning_images/baby-icon.png","webpack:///./src/views/scanning/restitute/restituteCharger.vue?6c54"],"names":["name","data","timer","timer2","time","messageBox","messageTip","noChargerBox","toastTip","toastbox","components","headTop","Header","MessageBox","toast","Toast","computed","extends_default","Object","vuex_esm","mounted","_this","this","countdown","dataInteractionResponse","msgType","result","$router","push","params","payTip","errorCode","setTimeout","back","clearTimeout","abnormalCode","dataInteractionRequest","imei","chargerId","ISDEBUG","methods","_this2","setInterval","clearInterval","boxHandle","confirm","cancel","index","goBackHander","beforeDestroy","restitute_restituteCharger","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","$t","custom-back","on","_v","src","__webpack_require__","alt","_s","icon","describe","alert","position","update:toastTip","$event","staticRenderFns","Component","normalizeComponent","restituteCharger","ssrContext","customBlock","__esModule","default","__webpack_exports__","module","exports","p","options","__i18n","_Ctor"],"mappings":"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","file":"static/js/12.8d1aaa2eda9db6d50699.js","sourcesContent":["<i18n>\n{\n  \"en\": {\n    \"ReturnBattery\": \"Return Portable battery\",\n    \"putCharging\": \"Please put the charging treasure from the above position in time\",\n    \"unit\": \"S\",\n    \"Reminder\": \"Reminder\",\n    \"unreturnedBatteryToExit\": \"Detected you did not return the battery, are you sure to exit?\",\n    \"OK\": \"OK\",\n    \"Cancel\": \"Cancel\",\n    \"reScanQRcode\": \"No charging treasure is put in, please re-scan the qr code of the cabinet\",\n    \"unreturnedBattery\": \"You currently do not have unreturned battery pack\",\n    \"equipmentIsFull\": \"The card slot of this equipment is full, please change the equipment to use.\",\n    \"RestitutionFailure\": \"Restitution failure\"\n  },\n  \"zh\": {\n    \"ReturnBattery\": \"归还充电宝\",\n    \"putCharging\": \"请及时从上图位置放入充电宝\",\n    \"unit\": \"秒\",\n    \"Reminder\": \"提示\",\n    \"unreturnedBatteryToExit\": \"检测到你未归还充电宝，确定退出吗\",\n    \"OK\": \"好的\",\n    \"Cancel\": \"取消\",\n    \"reScanQRcode\": \"检测到没有充电宝放入，请重新扫描机柜二维码\",\n    \"unreturnedBattery\": \"您当前没有未归还的充电宝哦\",\n    \"equipmentIsFull\": \"该设备卡槽已满，请换台设备使用\",\n    \"RestitutionFailure\": \"还入失败\"\n  }\n}\n</i18n>\n\n<template>\n  <div class=\"takingCharger\">\n    <head-top :title='$t(\"ReturnBattery\")' :custom-back=\"true\" @goBackHander=\"goBackHander\"></head-top>\n    <div class=\"container\">\n      <img src=\"../../../assets/scanning_images/baby-icon.png\" alt=\"\">\n      <span>{{ $t('putCharging') }}</span>\n      <div class=\"countdown\">\n        <b>\n          <strong>{{time}}</strong>{{ $t('unit') }}\n        </b>\n        <div class=\"countdown-bg\"></div>\n      </div>\n      <!-- <div class=\"describe\">如未吐出充电宝，请耐心等待1-3分钟，如仍未吐出，请重新租借或联系客服</div> -->\n    </div>\n\n    <message-box :messageBox=\"messageBox\"\n                  :index=\"1\"\n                  icon=\"noreturn\"\n                  :title=\"$t('Reminder')\"\n                  :describe=\"$t('unreturnedBatteryToExit')\"\n                  :confirm=\"$t('OK')\"\n                  :cancel=\"$t('Cancel')\"\n                  @boxHandle=\"boxHandle\"></message-box>\n    <message-box :messageBox=\"messageTip\"\n                  :index=\"2\"\n                  icon=\"scan\"\n                  :title=\"$t('Reminder')\"\n                  :describe=\"$t('reScanQRcode')\"\n                  :alert=\"$t('OK')\"\n                  @boxHandle=\"boxHandle\"></message-box>\n    <message-box :messageBox=\"noChargerBox\"\n                  :index=\"3\"\n                  icon=\"listIcon\"\n                  :title=\"$t('Reminder')\"\n                  :describe=\"$t('unreturnedBattery')\"\n                  :alert=\"$t('OK')\"\n                  @boxHandle=\"boxHandle\"></message-box>\n\n    <toast :toastTip.sync=\"toastTip\"\n           :describe=\"$t('equipmentIsFull')\"\n           position=\"bottom\"></toast>\n    <toast :toastTip.sync=\"toastbox\"\n           :describe=\"$t('RestitutionFailure')\"\n           position=\"bottom\"></toast>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport headTop from '../../../components/Header/index'\nimport messageBox from '../../../components/MessageBox/index'\nimport toast from '../../../components/Toast/index'\nimport { errorCode } from '../../../components/ErrorCode/abnormalCode.js'\nexport default {\n  name: 'takingCharger',\n  data () {\n    return {\n      timer: null, // 定时器\n      timer2: null, // 计时器\n      time: 60, // 时间\n      messageBox: false, // 弹框显示隐藏\n      messageTip: false, // 弹框显示隐藏\n      noChargerBox: false, // 弹框显示隐藏\n      toastTip: false,\n      toastbox: false\n    }\n  },\n\n  components: {\n    headTop,\n    messageBox,\n    toast\n  },\n\n  computed: {\n    ...mapGetters([ 'chargerId' ])\n  },\n\n  mounted () {\n    this.countdown()\n\n    this.dataInteractionResponse(data => {\n      // 归还充电宝返回\n      if (data.msgType === '0x5212') {\n        if (data.result) {\n          this.$router.push({name: 'home', params: {payTip: 3}})\n        } else {\n          let timer\n          switch (data.data.errorCode) {\n            case '0x830204':\n              this.toastTip = true\n              timer = setTimeout(() => {\n                this.$router.back()\n                clearTimeout(timer)\n              }, 2000)\n              break\n            case '0x830203':\n              this.noChargerBox = true\n              break\n            default:\n              if (!errorCode[data.data.errorCode]) {\n                this.toastbox = true\n              }\n              timer = setTimeout(() => {\n                this.$router.back()\n                clearTimeout(timer)\n              }, 2000)\n          }\n        }\n      }\n    })\n\n    // 归还充电宝请求\n    this.dataInteractionRequest({\n      msgType: '0x5211',\n      imei: this.chargerId.imei\n    })\n\n    if (this.ISDEBUG) {\n      // this.timer2 = setTimeout(() => {\n      //   this.$http('/scanning/2').then(res => {\n      //     if (res.data.result) {\n      //       this.$router.push({name: 'home', params: {payTip: 3}})\n      //     }\n      //   })\n      // }, 4000)\n    }\n  },\n\n  methods: {\n    countdown () {\n      this.timer = setInterval(() => {\n        if (--this.time <= 0) {\n          clearInterval(this.timer)\n          this.messageTip = true\n        }\n      }, 1000)\n    },\n\n    // 弹框\n    boxHandle (confirm, cancel, index) {\n      switch (index) {\n        case 1:\n          this.messageBox = false\n          break\n        case 2:\n          this.messageTip = false\n          if (confirm) {\n            this.$router.back()\n          }\n          break\n        case 3:\n          this.noChargerBox = false\n          break\n      }\n      if (confirm) {\n        this.$router.back()\n      }\n    },\n\n    // 返回按钮\n    goBackHander () {\n      this.messageBox = true\n    }\n  },\n\n  beforeDestroy () {\n    clearInterval(this.timer)\n    clearTimeout(this.timer2)\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"less\" scoped>\n@keyframes rotate {\n  0%{\n    transform: rotate(0deg)\n  }\n  50% {\n    transform: rotate(180deg)\n  }\n  100%{\n    transform: rotate(360deg)\n  }\n}\n.takingCharger{\n  .fs;\n  background: #FFF;\n  .container{\n    .fs-noTop;\n    padding-top: 25px;\n    img{\n      height: 494px;\n    }\n    span{\n      display: block;\n      font-size: 32px;\n      margin: 40px 0 50px 0;\n    }\n    .countdown{\n      .wh(385px, 385px);\n      position: relative;\n      margin: 0 auto;\n      b{\n        .f-center;\n        left: 55%;\n        font-size: 30px;\n        strong{\n          font-size: 100px;\n          margin-right: 30px;\n        }\n      }\n      .countdown-bg{\n        .fs;\n        background: url('../../../assets/scanning_images/loading.png') 0 0 no-repeat;\n        background-size: cover;\n        animation: rotate 2s linear infinite;\n      }\n    }\n    .describe{\n      font-size: 26px;\n      text-align: left;\n      padding: 0 5%;\n      color: #999999;\n      margin-top: 40px;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/scanning/restitute/restituteCharger.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"takingCharger\"},[_c('head-top',{attrs:{\"title\":_vm.$t(\"ReturnBattery\"),\"custom-back\":true},on:{\"goBackHander\":_vm.goBackHander}}),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('img',{attrs:{\"src\":require(\"../../../assets/scanning_images/baby-icon.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$t('putCharging')))]),_vm._v(\" \"),_c('div',{staticClass:\"countdown\"},[_c('b',[_c('strong',[_vm._v(_vm._s(_vm.time))]),_vm._v(_vm._s(_vm.$t('unit'))+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"countdown-bg\"})])]),_vm._v(\" \"),_c('message-box',{attrs:{\"messageBox\":_vm.messageBox,\"index\":1,\"icon\":\"noreturn\",\"title\":_vm.$t('Reminder'),\"describe\":_vm.$t('unreturnedBatteryToExit'),\"confirm\":_vm.$t('OK'),\"cancel\":_vm.$t('Cancel')},on:{\"boxHandle\":_vm.boxHandle}}),_vm._v(\" \"),_c('message-box',{attrs:{\"messageBox\":_vm.messageTip,\"index\":2,\"icon\":\"scan\",\"title\":_vm.$t('Reminder'),\"describe\":_vm.$t('reScanQRcode'),\"alert\":_vm.$t('OK')},on:{\"boxHandle\":_vm.boxHandle}}),_vm._v(\" \"),_c('message-box',{attrs:{\"messageBox\":_vm.noChargerBox,\"index\":3,\"icon\":\"listIcon\",\"title\":_vm.$t('Reminder'),\"describe\":_vm.$t('unreturnedBattery'),\"alert\":_vm.$t('OK')},on:{\"boxHandle\":_vm.boxHandle}}),_vm._v(\" \"),_c('toast',{attrs:{\"toastTip\":_vm.toastTip,\"describe\":_vm.$t('equipmentIsFull'),\"position\":\"bottom\"},on:{\"update:toastTip\":function($event){_vm.toastTip=$event}}}),_vm._v(\" \"),_c('toast',{attrs:{\"toastTip\":_vm.toastbox,\"describe\":_vm.$t('RestitutionFailure'),\"position\":\"bottom\"},on:{\"update:toastTip\":function($event){_vm.toastbox=$event}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-40b95e21\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/scanning/restitute/restituteCharger.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-40b95e21\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!less-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":[\\\"D:\\\\\\\\IIS\\\\\\\\Git\\\\\\\\charger\\\\\\\\src\\\\\\\\styles\\\\\\\\index.less\\\",\\\"D:\\\\\\\\IIS\\\\\\\\Git\\\\\\\\charger\\\\\\\\src\\\\\\\\styles\\\\\\\\mixin.less\\\"]}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./restituteCharger.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./restituteCharger.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./restituteCharger.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-40b95e21\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./restituteCharger.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-40b95e21\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* customBlocks */\nvar customBlock = require(\"!!@kazupon/vue-i18n-loader!../../../../node_modules/vue-loader/lib/selector?type=customBlocks&index=0!./restituteCharger.vue\")\nif (customBlock && customBlock.__esModule) {\n  customBlock = customBlock.default\n}\nif (typeof customBlock === \"function\") {\n  customBlock(Component)\n}\n\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/scanning/restitute/restituteCharger.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/img/baby-icon.c31fbe2.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/scanning_images/baby-icon.png\n// module id = aEW7\n// module chunks = 12 13","module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"en\":{\"ReturnBattery\":\"Return Portable battery\",\"putCharging\":\"Please put the charging treasure from the above position in time\",\"unit\":\"S\",\"Reminder\":\"Reminder\",\"unreturnedBatteryToExit\":\"Detected you did not return the battery, are you sure to exit?\",\"OK\":\"OK\",\"Cancel\":\"Cancel\",\"reScanQRcode\":\"No charging treasure is put in, please re-scan the qr code of the cabinet\",\"unreturnedBattery\":\"You currently do not have unreturned battery pack\",\"equipmentIsFull\":\"The card slot of this equipment is full, please change the equipment to use.\",\"RestitutionFailure\":\"Restitution failure\"},\"zh\":{\"ReturnBattery\":\"归还充电宝\",\"putCharging\":\"请及时从上图位置放入充电宝\",\"unit\":\"秒\",\"Reminder\":\"提示\",\"unreturnedBatteryToExit\":\"检测到你未归还充电宝，确定退出吗\",\"OK\":\"好的\",\"Cancel\":\"取消\",\"reScanQRcode\":\"检测到没有充电宝放入，请重新扫描机柜二维码\",\"unreturnedBattery\":\"您当前没有未归还的充电宝哦\",\"equipmentIsFull\":\"该设备卡槽已满，请换台设备使用\",\"RestitutionFailure\":\"还入失败\"}}')\n  delete Component.options._Ctor\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@kazupon/vue-i18n-loader/lib!./node_modules/vue-loader/lib/selector.js?type=customBlocks&index=0!./src/views/scanning/restitute/restituteCharger.vue\n// module id = pBOv\n// module chunks = 12"],"sourceRoot":""}